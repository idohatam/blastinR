% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarize_bl.R
\name{summarize_bl}
\alias{summarize_bl}
\title{Summarize and Visualize BLAST+ Results with Metadata using a Sankey Plot}
\usage{
summarize_bl(df1, df2, id_col, summarize_cols, report = TRUE)
}
\arguments{
\item{df1}{A data frame of metadata with one row per taxonomic identifier (\code{tax_id}), including functional annotations.}

\item{df2}{A data frame of BLAST+ results, including a \code{staxids} column (e.g., the output from \code{blstinr()}).}

\item{id_col}{A string giving the column name in \code{df1} that matches \code{df2$staxids}.}

\item{summarize_cols}{A character vector of column names (from the metadata table) to group by and visualize in the Sankey plot.}

\item{report}{Logical. If \code{TRUE} (default), saves the Sankey plot to an HTML report file and logs it.}
}
\value{
An interactive Sankey plot (\code{htmlwidget}).
}
\description{
This function merges functional or categorical metadata with BLAST+ results based on a shared taxonomic ID,
summarizes the data across selected columns, and visualizes the summary as a Sankey plot. The function is
useful for visualizing how BLAST hit sequences distribute across taxonomic or functional groups.
}
\details{
Assumes the BLAST database used for the search contains a "taxonomy" table and that BLAST+ results (e.g. from \code{blstinr()})
include a \code{staxids} column. The metadata table should have one row per \code{tax_id} with any associated annotations.
}
\examples{
\dontrun{
# Assuming df2 is from blstinr() and df1 is a metadata table with "tax_id" and "Function"
sankey_plot <- summarize_bl(
  df1 = metadata_df,
  df2 = blast_results_df,
  id_col = "tax_id",
  summarize_cols = c("Function")
)
print(sankey_plot)
}
}
